import{c as H,p as sn}from"./constant-b644328d-6af51708.js";import{cA as en,cB as y,bR as cn,cC as O,cD as D,cE as j,cF as k,cG as rn,cH as un,cI as o,cJ as an,cK as ln,cL as on}from"./index-0bc928c2.js";function tn(c){return c.innerRadius}function fn(c){return c.outerRadius}function yn(c){return c.startAngle}function gn(c){return c.endAngle}function mn(c){return c&&c.padAngle}function pn(c,x,q,E,h,v,J,r){var s=q-c,n=E-x,m=J-h,i=r-v,u=i*s-m*n;if(!(u*u<y))return u=(m*(x-v)-i*(c-h))/u,[c+u*s,x+u*n]}function U(c,x,q,E,h,v,J){var r=c-q,s=x-E,n=(J?v:-v)/j(r*r+s*s),m=n*s,i=-n*r,u=c+m,t=x+i,f=q+m,w=E+i,l=(u+f)/2,B=(t+w)/2,p=f-u,g=w-t,A=p*p+g*g,C=h-v,P=u*w-f*t,F=(g<0?-1:1)*j(on(0,C*C*A-P*P)),G=(P*g-p*F)/A,d=(-P*p-g*F)/A,R=(P*g+p*F)/A,T=(-P*p+g*F)/A,e=G-l,a=d-B,K=R-l,L=T-B;return e*e+a*a>K*K+L*L&&(G=R,d=T),{cx:G,cy:d,x01:-m,y01:-i,x11:G*(h/C-1),y11:d*(h/C-1)}}function hn(){var c=tn,x=fn,q=H(0),E=null,h=yn,v=gn,J=mn,r=null;function s(){var n,m,i=+c.apply(this,arguments),u=+x.apply(this,arguments),t=h.apply(this,arguments)-en,f=v.apply(this,arguments)-en,w=rn(f-t),l=f>t;if(r||(r=n=sn()),u<i&&(m=u,u=i,i=m),!(u>y))r.moveTo(0,0);else if(w>cn-y)r.moveTo(u*O(t),u*D(t)),r.arc(0,0,u,t,f,!l),i>y&&(r.moveTo(i*O(f),i*D(f)),r.arc(0,0,i,f,t,l));else{var B=t,p=f,g=t,A=f,C=w,P=w,F=J.apply(this,arguments)/2,G=F>y&&(E?+E.apply(this,arguments):j(i*i+u*u)),d=k(rn(u-i)/2,+q.apply(this,arguments)),R=d,T=d,e,a;if(G>y){var K=an(G/i*D(F)),L=an(G/u*D(F));(C-=K*2)>y?(K*=l?1:-1,g+=K,A-=K):(C=0,g=A=(t+f)/2),(P-=L*2)>y?(L*=l?1:-1,B+=L,p-=L):(P=0,B=p=(t+f)/2)}var S=u*O(B),$=u*D(B),z=i*O(A),M=i*D(A);if(d>y){var N=u*O(p),Q=u*D(p),V=i*O(g),W=i*D(g),I;if(w<un&&(I=pn(S,$,V,W,N,Q,z,M))){var X=S-I[0],Y=$-I[1],Z=N-I[0],b=Q-I[1],_=1/D(ln((X*Z+Y*b)/(j(X*X+Y*Y)*j(Z*Z+b*b)))/2),nn=j(I[0]*I[0]+I[1]*I[1]);R=k(d,(i-nn)/(_-1)),T=k(d,(u-nn)/(_+1))}}P>y?T>y?(e=U(V,W,S,$,u,T,l),a=U(N,Q,z,M,u,T,l),r.moveTo(e.cx+e.x01,e.cy+e.y01),T<d?r.arc(e.cx,e.cy,T,o(e.y01,e.x01),o(a.y01,a.x01),!l):(r.arc(e.cx,e.cy,T,o(e.y01,e.x01),o(e.y11,e.x11),!l),r.arc(0,0,u,o(e.cy+e.y11,e.cx+e.x11),o(a.cy+a.y11,a.cx+a.x11),!l),r.arc(a.cx,a.cy,T,o(a.y11,a.x11),o(a.y01,a.x01),!l))):(r.moveTo(S,$),r.arc(0,0,u,B,p,!l)):r.moveTo(S,$),!(i>y)||!(C>y)?r.lineTo(z,M):R>y?(e=U(z,M,N,Q,i,-R,l),a=U(S,$,V,W,i,-R,l),r.lineTo(e.cx+e.x01,e.cy+e.y01),R<d?r.arc(e.cx,e.cy,R,o(e.y01,e.x01),o(a.y01,a.x01),!l):(r.arc(e.cx,e.cy,R,o(e.y01,e.x01),o(e.y11,e.x11),!l),r.arc(0,0,i,o(e.cy+e.y11,e.cx+e.x11),o(a.cy+a.y11,a.cx+a.x11),l),r.arc(a.cx,a.cy,R,o(a.y11,a.x11),o(a.y01,a.x01),!l))):r.arc(0,0,i,A,g,l)}if(r.closePath(),n)return r=null,n+""||null}return s.centroid=function(){var n=(+c.apply(this,arguments)+ +x.apply(this,arguments))/2,m=(+h.apply(this,arguments)+ +v.apply(this,arguments))/2-un/2;return[O(m)*n,D(m)*n]},s.innerRadius=function(n){return arguments.length?(c=typeof n=="function"?n:H(+n),s):c},s.outerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:H(+n),s):x},s.cornerRadius=function(n){return arguments.length?(q=typeof n=="function"?n:H(+n),s):q},s.padRadius=function(n){return arguments.length?(E=n==null?null:typeof n=="function"?n:H(+n),s):E},s.startAngle=function(n){return arguments.length?(h=typeof n=="function"?n:H(+n),s):h},s.endAngle=function(n){return arguments.length?(v=typeof n=="function"?n:H(+n),s):v},s.padAngle=function(n){return arguments.length?(J=typeof n=="function"?n:H(+n),s):J},s.context=function(n){return arguments.length?(r=n??null,s):r},s}export{hn as d};
